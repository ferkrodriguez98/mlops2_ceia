[2025-10-12T15:26:44.629+0000] {local_task_job_runner.py:120} INFO - ::group::Pre task execution logs
[2025-10-12T15:26:44.655+0000] {taskinstance.py:2076} INFO - Dependencies all met for dep_context=non-requeueable deps ti=<TaskInstance: train_knn.train_knn manual__2025-10-12T15:26:36.242743+00:00 [queued]>
[2025-10-12T15:26:44.664+0000] {taskinstance.py:2076} INFO - Dependencies all met for dep_context=requeueable deps ti=<TaskInstance: train_knn.train_knn manual__2025-10-12T15:26:36.242743+00:00 [queued]>
[2025-10-12T15:26:44.664+0000] {taskinstance.py:2306} INFO - Starting attempt 1 of 1
[2025-10-12T15:26:44.680+0000] {taskinstance.py:2330} INFO - Executing <Task(_PythonDecoratedOperator): train_knn> on 2025-10-12 15:26:36.242743+00:00
[2025-10-12T15:26:44.694+0000] {warnings.py:112} WARNING - /home/***/.local/lib/python3.12/site-packages/***/task/task_runner/standard_task_runner.py:61: DeprecationWarning: This process (pid=311) is multi-threaded, use of fork() may lead to deadlocks in the child.
  pid = os.fork()

[2025-10-12T15:26:44.695+0000] {standard_task_runner.py:63} INFO - Started process 324 to run task
[2025-10-12T15:26:44.696+0000] {standard_task_runner.py:90} INFO - Running: ['***', 'tasks', 'run', 'train_knn', 'train_knn', 'manual__2025-10-12T15:26:36.242743+00:00', '--job-id', '26', '--raw', '--subdir', 'DAGS_FOLDER/entrenamiento_knn.py', '--cfg-path', '/tmp/tmpl5_10jbb']
[2025-10-12T15:26:44.697+0000] {standard_task_runner.py:91} INFO - Job 26: Subtask train_knn
[2025-10-12T15:26:44.749+0000] {task_command.py:426} INFO - Running <TaskInstance: train_knn.train_knn manual__2025-10-12T15:26:36.242743+00:00 [running]> on host 7920bc5e4faa
[2025-10-12T15:26:44.864+0000] {taskinstance.py:2648} INFO - Exporting env vars: AIRFLOW_CTX_DAG_OWNER='***' AIRFLOW_CTX_DAG_ID='train_knn' AIRFLOW_CTX_TASK_ID='train_knn' AIRFLOW_CTX_EXECUTION_DATE='2025-10-12T15:26:36.242743+00:00' AIRFLOW_CTX_TRY_NUMBER='1' AIRFLOW_CTX_DAG_RUN_ID='manual__2025-10-12T15:26:36.242743+00:00'
[2025-10-12T15:26:44.867+0000] {taskinstance.py:430} INFO - ::endgroup::
[2025-10-12T15:26:44.975+0000] {entrenamiento_knn.py:103} INFO - Shapes: X_train=(17151, 13), X_test=(4288, 13), y_train=(17151,), y_test=(4288,)
[2025-10-12T15:26:44.975+0000] {logging_mixin.py:188} INFO - MLflow tracking URI: http://mlflow:5000
[2025-10-12T15:26:45.896+0000] {logging_mixin.py:188} INFO - Connected to MLflow. Found 2 experiments.
[2025-10-12T15:26:45.952+0000] {logging_mixin.py:188} WARNING - 2025/10/12 15:26:45 INFO mlflow.tracking.fluent: Experiment with name 'knn_optuna' does not exist. Creating a new experiment.
[2025-10-12T15:26:46.074+0000] {log.py:232} WARNING - [I 2025-10-12 15:26:46,074] A new study created in memory with name: no-name-552964d6-0cbc-4d63-b296-f56c53637786
[2025-10-12T15:26:47.248+0000] {logging_mixin.py:188} INFO - 🏃 View run skillful-grub-181 at: http://mlflow:5000/#/experiments/2/runs/19c32b159f3744429880d1d201f836f4
[2025-10-12T15:26:47.249+0000] {logging_mixin.py:188} INFO - 🧪 View experiment at: http://mlflow:5000/#/experiments/2
[2025-10-12T15:26:47.308+0000] {entrenamiento_knn.py:147} INFO - Trial 0 -> f1_macro=0.8269, params={'n_neighbors': 19, 'weights': 'distance', 'algorithm': 'ball_tree'}
[2025-10-12T15:26:47.310+0000] {log.py:232} WARNING - [I 2025-10-12 15:26:47,310] Trial 0 finished with value: 0.8268886080833276 and parameters: {'n_neighbors': 19, 'weights': 'distance', 'algorithm': 'ball_tree'}. Best is trial 0 with value: 0.8268886080833276.
[2025-10-12T15:26:48.388+0000] {logging_mixin.py:188} INFO - 🏃 View run delightful-finch-685 at: http://mlflow:5000/#/experiments/2/runs/24e8f203dca74356b15fc4a55b03b6bb
[2025-10-12T15:26:48.389+0000] {logging_mixin.py:188} INFO - 🧪 View experiment at: http://mlflow:5000/#/experiments/2
[2025-10-12T15:26:48.448+0000] {entrenamiento_knn.py:147} INFO - Trial 1 -> f1_macro=0.8195, params={'n_neighbors': 16, 'weights': 'uniform', 'algorithm': 'ball_tree'}
[2025-10-12T15:26:48.449+0000] {log.py:232} WARNING - [I 2025-10-12 15:26:48,449] Trial 1 finished with value: 0.819466229223878 and parameters: {'n_neighbors': 16, 'weights': 'uniform', 'algorithm': 'ball_tree'}. Best is trial 0 with value: 0.8268886080833276.
[2025-10-12T15:26:49.164+0000] {logging_mixin.py:188} INFO - 🏃 View run bemused-sloth-832 at: http://mlflow:5000/#/experiments/2/runs/7ca4962fe7404657bfd0e370c61a0e8c
[2025-10-12T15:26:49.165+0000] {logging_mixin.py:188} INFO - 🧪 View experiment at: http://mlflow:5000/#/experiments/2
[2025-10-12T15:26:49.224+0000] {entrenamiento_knn.py:147} INFO - Trial 2 -> f1_macro=0.7939, params={'n_neighbors': 3, 'weights': 'distance', 'algorithm': 'kd_tree'}
[2025-10-12T15:26:49.225+0000] {log.py:232} WARNING - [I 2025-10-12 15:26:49,225] Trial 2 finished with value: 0.7938795095308678 and parameters: {'n_neighbors': 3, 'weights': 'distance', 'algorithm': 'kd_tree'}. Best is trial 0 with value: 0.8268886080833276.
[2025-10-12T15:26:50.109+0000] {logging_mixin.py:188} INFO - 🏃 View run caring-rat-869 at: http://mlflow:5000/#/experiments/2/runs/da980a57bfdc4ede851e26f75896756f
[2025-10-12T15:26:50.109+0000] {logging_mixin.py:188} INFO - 🧪 View experiment at: http://mlflow:5000/#/experiments/2
[2025-10-12T15:26:50.168+0000] {entrenamiento_knn.py:147} INFO - Trial 3 -> f1_macro=0.8140, params={'n_neighbors': 14, 'weights': 'uniform', 'algorithm': 'kd_tree'}
[2025-10-12T15:26:50.170+0000] {log.py:232} WARNING - [I 2025-10-12 15:26:50,170] Trial 3 finished with value: 0.8140274813346756 and parameters: {'n_neighbors': 14, 'weights': 'uniform', 'algorithm': 'kd_tree'}. Best is trial 0 with value: 0.8268886080833276.
[2025-10-12T15:26:51.088+0000] {logging_mixin.py:188} INFO - 🏃 View run tasteful-fly-707 at: http://mlflow:5000/#/experiments/2/runs/83de57ac94b441269aa43ad67bb269a9
[2025-10-12T15:26:51.089+0000] {logging_mixin.py:188} INFO - 🧪 View experiment at: http://mlflow:5000/#/experiments/2
[2025-10-12T15:26:51.148+0000] {entrenamiento_knn.py:147} INFO - Trial 4 -> f1_macro=0.7591, params={'n_neighbors': 2, 'weights': 'uniform', 'algorithm': 'ball_tree'}
[2025-10-12T15:26:51.150+0000] {log.py:232} WARNING - [I 2025-10-12 15:26:51,149] Trial 4 finished with value: 0.7591118008655261 and parameters: {'n_neighbors': 2, 'weights': 'uniform', 'algorithm': 'ball_tree'}. Best is trial 0 with value: 0.8268886080833276.
[2025-10-12T15:26:51.844+0000] {logging_mixin.py:188} INFO - 🏃 View run hilarious-rook-60 at: http://mlflow:5000/#/experiments/2/runs/0ef155ef753a47c6ae1bc09211e6ab6a
[2025-10-12T15:26:51.845+0000] {logging_mixin.py:188} INFO - 🧪 View experiment at: http://mlflow:5000/#/experiments/2
[2025-10-12T15:26:51.900+0000] {entrenamiento_knn.py:147} INFO - Trial 5 -> f1_macro=0.8148, params={'n_neighbors': 7, 'weights': 'distance', 'algorithm': 'brute'}
[2025-10-12T15:26:51.901+0000] {log.py:232} WARNING - [I 2025-10-12 15:26:51,901] Trial 5 finished with value: 0.8147617903166786 and parameters: {'n_neighbors': 7, 'weights': 'distance', 'algorithm': 'brute'}. Best is trial 0 with value: 0.8268886080833276.
[2025-10-12T15:26:52.692+0000] {logging_mixin.py:188} INFO - 🏃 View run illustrious-fowl-453 at: http://mlflow:5000/#/experiments/2/runs/96e50432e1504a7cb4f1b53eb44e7112
[2025-10-12T15:26:52.693+0000] {logging_mixin.py:188} INFO - 🧪 View experiment at: http://mlflow:5000/#/experiments/2
[2025-10-12T15:26:52.752+0000] {entrenamiento_knn.py:147} INFO - Trial 6 -> f1_macro=0.8018, params={'n_neighbors': 6, 'weights': 'uniform', 'algorithm': 'kd_tree'}
[2025-10-12T15:26:52.753+0000] {log.py:232} WARNING - [I 2025-10-12 15:26:52,753] Trial 6 finished with value: 0.8018328968712525 and parameters: {'n_neighbors': 6, 'weights': 'uniform', 'algorithm': 'kd_tree'}. Best is trial 0 with value: 0.8268886080833276.
[2025-10-12T15:26:53.688+0000] {logging_mixin.py:188} INFO - 🏃 View run intrigued-boar-115 at: http://mlflow:5000/#/experiments/2/runs/307812347555479bb4d8867d2822d409
[2025-10-12T15:26:53.689+0000] {logging_mixin.py:188} INFO - 🧪 View experiment at: http://mlflow:5000/#/experiments/2
[2025-10-12T15:26:53.752+0000] {entrenamiento_knn.py:147} INFO - Trial 7 -> f1_macro=0.8223, params={'n_neighbors': 18, 'weights': 'uniform', 'algorithm': 'auto'}
[2025-10-12T15:26:53.753+0000] {log.py:232} WARNING - [I 2025-10-12 15:26:53,753] Trial 7 finished with value: 0.8222962981285455 and parameters: {'n_neighbors': 18, 'weights': 'uniform', 'algorithm': 'auto'}. Best is trial 0 with value: 0.8268886080833276.
[2025-10-12T15:26:54.216+0000] {logging_mixin.py:188} INFO - 🏃 View run treasured-eel-362 at: http://mlflow:5000/#/experiments/2/runs/fd2d5168451846e3baf2ab1c887b0f43
[2025-10-12T15:26:54.217+0000] {logging_mixin.py:188} INFO - 🧪 View experiment at: http://mlflow:5000/#/experiments/2
[2025-10-12T15:26:54.276+0000] {entrenamiento_knn.py:147} INFO - Trial 8 -> f1_macro=0.8154, params={'n_neighbors': 7, 'weights': 'uniform', 'algorithm': 'brute'}
[2025-10-12T15:26:54.277+0000] {log.py:232} WARNING - [I 2025-10-12 15:26:54,277] Trial 8 finished with value: 0.8154120457897435 and parameters: {'n_neighbors': 7, 'weights': 'uniform', 'algorithm': 'brute'}. Best is trial 0 with value: 0.8268886080833276.
[2025-10-12T15:26:55.204+0000] {logging_mixin.py:188} INFO - 🏃 View run capricious-fox-303 at: http://mlflow:5000/#/experiments/2/runs/db95c93192d34686a80767821c8739df
[2025-10-12T15:26:55.205+0000] {logging_mixin.py:188} INFO - 🧪 View experiment at: http://mlflow:5000/#/experiments/2
[2025-10-12T15:26:55.264+0000] {entrenamiento_knn.py:147} INFO - Trial 9 -> f1_macro=0.7591, params={'n_neighbors': 2, 'weights': 'uniform', 'algorithm': 'ball_tree'}
[2025-10-12T15:26:55.265+0000] {log.py:232} WARNING - [I 2025-10-12 15:26:55,265] Trial 9 finished with value: 0.7591118008655261 and parameters: {'n_neighbors': 2, 'weights': 'uniform', 'algorithm': 'ball_tree'}. Best is trial 0 with value: 0.8268886080833276.
[2025-10-12T15:26:56.053+0000] {logging_mixin.py:188} WARNING - 2025/10/12 15:26:56 INFO mlflow.tracking.fluent: Experiment with name 'modelos_optimizados' does not exist. Creating a new experiment.
[2025-10-12T15:26:57.585+0000] {credentials.py:1147} INFO - Found credentials in environment variables.
[2025-10-12T15:26:58.086+0000] {logging_mixin.py:188} WARNING - 2025/10/12 15:26:58 WARNING mlflow.models.model: `artifact_path` is deprecated. Please use `name` instead.
[2025-10-12T15:27:05.575+0000] {logging_mixin.py:188} WARNING - 2025/10/12 15:27:05 WARNING mlflow.models.model: Model logged without a signature and input example. Please set `input_example` parameter when logging the model to auto infer the model signature.
[2025-10-12T15:27:06.657+0000] {logging_mixin.py:188} INFO - Model logged successfully
[2025-10-12T15:27:06.852+0000] {logging_mixin.py:188} WARNING - Successfully registered model 'Knn_Classifier'.
[2025-10-12T15:27:07.009+0000] {logging_mixin.py:188} WARNING - 2025/10/12 15:27:07 WARNING mlflow.tracking._model_registry.fluent: Run with id d91d5f5e7b7c4f4e933ab20a0bc701ff has no artifacts at artifact path 'model', registering model based on models:/m-8fcd720dcccb47fbbec1a3d1dee5f624 instead
[2025-10-12T15:27:07.165+0000] {logging_mixin.py:188} WARNING - 2025/10/12 15:27:07 INFO mlflow.store.model_registry.abstract_store: Waiting up to 300 seconds for model version to finish creation. Model name: Knn_Classifier, version 1
[2025-10-12T15:27:07.166+0000] {logging_mixin.py:188} WARNING - Created version '1' of model 'Knn_Classifier'.
[2025-10-12T15:27:07.268+0000] {logging_mixin.py:188} INFO - Model registered as 'Knn_Classifier' with version 1
[2025-10-12T15:27:07.299+0000] {logging_mixin.py:188} INFO - 🏃 View run rogue-robin-988 at: http://mlflow:5000/#/experiments/3/runs/d91d5f5e7b7c4f4e933ab20a0bc701ff
[2025-10-12T15:27:07.299+0000] {logging_mixin.py:188} INFO - 🧪 View experiment at: http://mlflow:5000/#/experiments/3
[2025-10-12T15:27:07.368+0000] {entrenamiento_knn.py:202} INFO - Modelo entrenado. F1=0.8269, Precision=0.8537, Recall=0.8097
[2025-10-12T15:27:07.369+0000] {python.py:237} INFO - Done. Returned value was: None
[2025-10-12T15:27:07.369+0000] {taskinstance.py:441} INFO - ::group::Post task execution logs
[2025-10-12T15:27:07.389+0000] {taskinstance.py:1206} INFO - Marking task as SUCCESS. dag_id=train_knn, task_id=train_knn, run_id=manual__2025-10-12T15:26:36.242743+00:00, execution_date=20251012T152636, start_date=20251012T152644, end_date=20251012T152707
[2025-10-12T15:27:07.480+0000] {local_task_job_runner.py:240} INFO - Task exited with return code 0
[2025-10-12T15:27:07.505+0000] {taskinstance.py:3503} INFO - 0 downstream tasks scheduled from follow-on schedule check
[2025-10-12T15:27:07.508+0000] {local_task_job_runner.py:222} INFO - ::endgroup::
